@page
@using StudyroomBookingZealand.Pages.User
@using StudyroomBookingZealand.Models
@using StudyroomBookingZealand.Services.Interfaces;
@model StudyroomBookingZealand.Pages.Bookings.BookRoomModel
@{
}
@inject ILocations LocationsService
<div>Choose a location</div>
<table class="table">
    <thead>
        <tr>
            <th>
                Image
            </th>
            <th>
                Name
            </th>
            <th>
                Type
            </th>
            <th>
                Address
            </th>
        </tr>
    </thead>
    <tbody>

        @if (Model.Rooms != null)
        {
            @foreach (Room r in Model.Rooms)
            {
                <tr>
                    <td>Image</td>
                    <td>@r.Name</td>
                    <td>@r.Type</td>
                    <td>@r.Adress @LocationsService.GetLocation(r.LocationId).Name</td>
                    <td>
                        @if (r.RoomId == Model.SelectedRoom)
                        {
                            <form method="post">
                                <input type="submit" value="Selected" class="btn btn-outline-primary" asp-page-handler="UnSelect" />
                            </form>
                        }
                        else
                        {
                            <form method="post">
                                <input type="submit" value="Select" class="btn btn-primary" asp-page-handler="Select" asp-route-id="@r.RoomId" />
                            </form>
                        }
                    </td>
                </tr>
            }
        }
    </tbody>
</table>
<div class="container">
    <div class="panel-group" id="accordion">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <button class="btn btn-info" type="button" data-toggle="collapse" data-target="#corp" style="background-color: aliceblue">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse">Select Time</a>
                    </button>
                </h4>
            </div>
            <div id="collapse" class="panel-collapse collapse-in">
                <div class="panel-body">
                    <form method="get">
                        <div id="collapse" class="panel-collapse collapse in" href="#this">
                            <div class="form-group">
                                From Date: <input class="form-control" asp-for="FromTime" />
                            </div>
                            <div class="form-group">
                                To Date: <input class="form-control" asp-for="ToTime" />
                            </div>
                            <div class="form-group">
                                <input id="this" type="submit" value="Still Implementing" class="btn btn-primary" />
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


